{% extends "base.html" %}

{% block title %}{{ get_text('post_job') }}{% endblock %}

{% block content %}
<div class="post-job-container">
    <h2>üì¢ {{ get_text('post_job') }}</h2>
    
    <nav>
        <a href="{{ url_for('dashboard') }}">‚Üê {{ get_text('back_to_dashboard') }}</a> |
        <a href="{{ url_for('search_jobs') }}">{{ get_text('search_jobs') }}</a> |
        <a href="{{ url_for('saved_jobs') }}">{{ get_text('saved_jobs') }}</a>
    </nav>

    <form action="{{ url_for('post_job') }}" method="POST">
        <label for="title">{{ get_text('job_title') }}* <span class="required">*</span></label>
        <select name="title" id="title" required>
            <option value="" disabled {% if not form_data %}selected{% endif %}>{{ get_text('select_job') }}</option>
            {% for title in job_titles %}
            <option value="{{ title }}" {% if form_data and form_data.title == title %}selected{% endif %}>
                {{ get_text(title) }}
            </option>
            {% endfor %}
        </select>

        <label for="description">{{ get_text('job_description') }}* <span class="required">*</span></label>
        <textarea name="description" id="description" rows="4" required>{{ form_data.description if form_data else '' }}</textarea>

        <label for="location">{{ get_text('job_location') }}* <span class="required">*</span></label>
        <input type="text" name="location" id="location" required value="{{ form_data.location if form_data else '' }}">

        <label for="salary">{{ get_text('salary') }}</label>
        <input type="text" name="salary" id="salary" value="{{ form_data.salary if form_data else '' }}" placeholder="{{ get_text('salary_optional') }}">

        <label for="phone_number">{{ get_text('contact_info') }}* <span class="required">*</span></label>
        <input type="text" name="phone_number" id="phone_number" required pattern="[0-9]{10}" value="{{ form_data.phone_number if form_data else '' }}">

        <label for="job_type">{{ get_text('job_type') }}* <span class="required">*</span></label>
        <select name="job_type" id="job_type" required>
            <option value="" disabled {% if not form_data %}selected{% endif %}>{{ get_text('select_job_type') }}</option>
            <option value="full_time" {% if form_data and form_data.job_type == 'full_time' %}selected{% endif %}>{{ get_text('full_time') }}</option>
            <option value="part_time" {% if form_data and form_data.job_type == 'part_time' %}selected{% endif %}>{{ get_text('part_time') }}</option>
            <option value="contract" {% if form_data and form_data.job_type == 'contract' %}selected{% endif %}>{{ get_text('contract') }}</option>
        </select>

        <div class="form-note">
            <p><span class="required">*</span> {{ get_text('required_fields') }}</p>
        </div>

        <button type="submit">{{ get_text('post_job') }}</button>
    </form>
</div>

<style>
    .required {
        color: red;
    }
    
    .form-note {
        font-size: 0.9em;
        margin-top: 10px;
        color: #666;
    }

    .post-job-container {
        max-width: 600px;
        margin: 20px auto;
        padding: 20px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
</style>
{% endblock %}
