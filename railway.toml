[build]
builder = "nixpacks"
buildCommand = "pip install --only-binary :all: -r requirements.txt"

[deploy]
startCommand = "gunicorn app:app"
healthcheckPath = "/health"
healthcheckTimeout = 100

[phases.setup]
aptPkgs = [
    "python3-dev",
    "default-libmysqlclient-dev",
    "pkg-config",
    "build-essential",
    "libpq-dev",
    "python3-numpy",
    "python3-distutils"  # Added to fix the missing distutils error
]
